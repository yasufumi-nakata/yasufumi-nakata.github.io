
(function($)
{$.jTagging={version:"1.0.0",defaults:{normalStyle:{padding:"2px 1px 0 1px",textDecoration:"none",color:"#6665cb",backgroundColor:""},selectedStyle:{padding:"2px 1px 0 1px",textDecoration:"none",color:"#fff",backgroundColor:"#6665cb"},normalHoverStyle:{padding:"2px 1px 0 1px",textDecoration:"none",color:"#fff",backgroundColor:"#6665cb"}},arrayRemove:function(array,value)
{array=array||[];for(i=0;i<array.length;i++)
{array[i]=$.trim(array[i]);if(array[i]==value||array[i]=="")
{array.splice(i,1);}}},setClass:function(el,nc,hc)
{$(el).css(nc);$(el).hover
(function()
{$(el).css(hc);},function()
{$(el).css(nc);});}};$.fn.jTagging=function(tags,seperator,normalStyle,selectedStyle,normalHoverStyle,timeout)
{seperator=seperator||",";normalStyle=normalStyle||$.jTagging.defaults.normalStyle;selectedStyle=selectedStyle||$.jTagging.defaults.selectedStyle;normalHoverStyle=normalHoverStyle||$.jTagging.defaults.normalHoverStyle;timeout=timeout||500
tags=[tags];return this.each
(function()
{var name=this.nodeName.toLowerCase();var type=this.type.toLowerCase();if(name!="input"||type!="text"&&name!="textarea")
{throw"Element must be \"input:text\" or \"textarea\"";}
var input=this;var tid=null;var handler=function(){$.each(tags,function(i,n){$.each(n,function(j,o){$("a",o).each(function(k){var value=$(input).val().split(seperator);$.jTagging.arrayRemove(value);if($(value).index($(this).text())>=0){$.jTagging.setClass(this,selectedStyle,normalHoverStyle);}else{$.jTagging.setClass(this,normalStyle,normalHoverStyle);}});});});};$(input).bind('keydown',function(){clearTimeout(tid);tid=null;}).bind('keyup',function(){(tid==null)&&(tid=setTimeout(handler,timeout));});$.each
(tags,function(i,n)
{$.each
(n,function(j,o)
{$("a",o).each
(function(k)
{$(this).removeClass();$(this).attr("href","#");$(this).click
(function()
{var value=$(input).val().split(seperator);$.jTagging.arrayRemove(value);if($(value).index($(this).text())>=0)
{$.jTagging.arrayRemove(value,$(this).text());$(input).val(value.join(seperator));$.jTagging.setClass(this,normalStyle,normalHoverStyle);}
else
{value.push($(this).text());$(input).val(value.join(seperator));$.jTagging.setClass(this,selectedStyle,normalHoverStyle);}
this.blur();return false;});var value=$(input).val().split(seperator);$.jTagging.arrayRemove(value);if($(value).index($(this).text())>=0)
{$.jTagging.setClass(this,selectedStyle,normalHoverStyle);}
else
{$.jTagging.setClass(this,normalStyle,normalHoverStyle);}});});});});}})
(jQuery);